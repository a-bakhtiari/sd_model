{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "ModelImprovements",
  "type": "object",
  "properties": {
    "improvements": {
      "type": "array",
      "items": {
        "type": "object",
        "oneOf": [
          {
            "properties": {
              "operation": {"const": "add_variable"},
              "name": {"type": "string"},
              "equation": {"type": "string"},
              "comment": {"type": "string"}
            },
            "required": ["operation", "name", "equation"]
          },
          {
            "properties": {
              "operation": {"const": "add_connection"},
              "from": {"type": "string"},
              "to": {"type": "string"},
              "relationship": {"type": "string"},
              "comment": {"type": "string"}
            },
            "required": ["operation", "from", "to", "relationship"]
          }
        ]
      }
    }
  },
  "required": ["improvements"]
}

